#!/usr/bin/env ruby

require "yaml"

build_dir = ARGV.first

release = {}

release["addons"] = []

paths = [
  File.join(build_dir, "vendor", "local", "bin"),
  File.join(build_dir, "vendor", "local", "sbin"),
  ENV["PATH"],
]
ld_library_paths = [
  File.join(build_dir, "vendor", "local", "lib"),
  ENV["LD_LIBRARY_PATH"],
]
release["config_vars"] = {
  "PATH"            => paths.join(":"),
  "LD_LIBRARY_PATH" => ld_library_paths.compact.join(":"),
}

release["default_process_types"] = {
  "web" => "groonga-httpd",
}

puts(release.to_yaml)
